@page "/Categories/Details/{Id:int}"
@attribute [Authorize]
@inherits BasePage<CategoryDto>

<PageTitle>@languageContainer.Keys["Category Details"]</PageTitle>
<MudBreadcrumbs Items="breadcrumbItems"></MudBreadcrumbs>

@if (category is null)
{
    <FormLoadingSpinner IsBigForm="true" />
}
else
{
    <MudCard Elevation="25">
        <MudCardHeader Style="padding:20px">
            <CardHeaderAvatar>
                <MudAvatar Class="cursor-all-scroll" @onclick="() => ShowImagePreview(imageUrl + category.Image)" Size="Size.Large" Rounded="true" Color="Color.Info">
                    <MudImage Src=@(imageUrl + category.Image)></MudImage>
                </MudAvatar>
            </CardHeaderAvatar>
            <CardHeaderContent>
                <MudText Typo="Typo.h5">
                    @category.Name
                </MudText>
                @if (category.OrderIndex is not null)
                {
                    <MudChip Variant="Variant.Text" Size="Size.Small" Icon="@Icons.Material.Outlined.Sort" Color="Color.Info">#@category.OrderIndex</MudChip>
                }
                <MudChip Variant="Variant.Filled" Size="Size.Small" Icon="@Icons.Material.Filled.ColorLens" Style=@($"background:{@category.Color}")>@category.Color</MudChip>
            </CardHeaderContent>
            <CardHeaderActions>
                <div style="margin:10px">
                    <MudButton DisableElevation="true" OnClick="() => OpenForm(formUri,category.Id)" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Edit" Color="Color.Info">
                        Edit
                    </MudButton>
                    <MudButton DisableElevation="true" Href="/Categories" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.ArrowBack" Color="Color.Info">
                        Back to Categories
                    </MudButton>
                </div>
            </CardHeaderActions>
        </MudCardHeader>
    </MudCard>
    <MudTabs SliderColor="Color.Info" Class="mt-5" Elevation="25" Rounded="true" ApplyEffectsToContainer=true Border=true PanelClass="h-300px px-6 pb-6 pt-0">
        <MudTabPanel Icon="@Icons.Material.Filled.Info" Text="More Info">

        </MudTabPanel>
        <MudTabPanel Icon="@Icons.Material.Filled.SupervisedUserCircle" Text="Services">

        </MudTabPanel>
    </MudTabs>
}
