@using Dashboard.Blazor.Components

@page "/LoginLogs"
@attribute [Authorize]
@inherits BasePage<LoginLogDto>

<PageTitle>@languageContainer.Keys["LoginLogs"]</PageTitle>
<MudBreadcrumbs Items="breadcrumbItems"></MudBreadcrumbs>

<MudCard Elevation="25">
    <MudCardContent>
        <MudDataGrid T="LoginLogDto" Dense="true" Elevation="0" FixedHeader="true" Height="300px"
                     Loading="@(isLoading)" LoadingProgressColor="Color.Info" Filterable="true"
                     Items="loginLogs" Hover="true" SortMode="SortMode.Single" QuickFilter="@FilterFunc">

            <ToolBarContent>
                <MudText Class="me-1" Typo="Typo.h5">@languageContainer.Keys["LoginLogs"]</MudText>
                <MudSpacer />
                <MudTextField @bind-Value="searchString" Adornment="Adornment.Start" Class="mt-0" Immediate="true"
                              Placeholder=@($"{languageContainer.Keys["SearchFor"]} User Id, Role, Ip Address, User Name, Login Date")
                              AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium"/>
            </ToolBarContent>
            <NoRecordsContent>
                <NoDataToDisply />
            </NoRecordsContent>
            <Columns>
                <PropertyColumn Property="x => x.UserId" Title="User Id" />
                <PropertyColumn Property="x => x.Role" />
                <PropertyColumn Property="x => x.Ip" Title="Ip Address" />
                <PropertyColumn Property="x => x.UserName" Title="User Name" />
                <PropertyColumn Property="x => x.LoginDate" Title="Login Date" />
            </Columns>

            <PagerContent>
                <MudDataGridPager T="LoginLogDto" />
            </PagerContent>
        </MudDataGrid>
    </MudCardContent>
</MudCard>