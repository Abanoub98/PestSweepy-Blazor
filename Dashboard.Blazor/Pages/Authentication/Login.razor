@page "/Login"
@page "/Login/{ReturnUrl}"
@layout LoginLayout

<!--begin::Form-->
<EditForm Model="loginDto" OnValidSubmit="HandleLogin" class="form w-100 fv-plugins-bootstrap5 fv-plugins-framework" id="kt_sign_in_form">
    <DataAnnotationsValidator/>
    <!--begin::Heading-->
    <div class="text-center mb-10">
        <img class="w-300px" src="/images/LogoWord.png" />
    </div>
    <!--begin::Heading-->
    <!--begin::Input group-->
    <div class="fv-row mb-10 fv-plugins-icon-container">
        <!--begin::Label-->
        <label class="form-label fs-6 fw-bold text-dark">@languageContainer.Keys["Email"]</label>
        <!--end::Label-->
        <!--begin::Input-->
        <InputText @bind-Value="loginDto.Email" class="form-control form-control-lg form-control-solid" type="text" name="email" />
        <!--end::Input-->
        <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"></div>
    </div>
    <!--end::Input group-->
    <!--begin::Input group-->
    <div class="fv-row mb-10 fv-plugins-icon-container">
        <!--begin::Wrapper-->
        <div class="d-flex flex-stack mb-2">
            <!--begin::Label-->
            <label class="form-label fw-bold text-dark fs-6 mb-0">@languageContainer.Keys["Password"]</label>
            <!--end::Label-->
        </div>
        <!--end::Wrapper-->
        <!--begin::Input-->
        <InputText @bind-Value="loginDto.Password" class="form-control form-control-lg form-control-solid" type="@passwordInputType" name="password" />
        <!--end::Input-->
        <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"></div>
        <div class="form-check mt-3">
            <input class="form-check-input" type="checkbox" @onchange="eventArgs => { ChangePasswordStatus(eventArgs.Value); }" id="flexCheckDefault" />
            <label class="form-check-label" for="flexCheckDefault">
                Show Password
            </label>
        </div>
    </div>
    <!--end::Input group-->
    <!--begin::Actions-->
    <div class="text-center">
        <!--begin::Submit button-->
        <button type="submit" class="btn btn-lg btn-primary w-100 mb-5 @(isLoading? "disabled" : string.Empty)">
            @if (isLoading)
            {
                <span class="indicator-label">
                    @languageContainer.Keys["Please Wait"]... <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                </span>
            }
            else
            {
                <span class="indicator-label">
                    @languageContainer.Keys["Login"]
                </span>
            }
        </button>
        <!--end::Submit button-->
    </div>
    <!--end::Actions-->
    <!--begin::Alert-->
    <div class="alert alert-danger align-items-center p-5 @(errorMessage is null? "d-none" : "d-flex") ">
        <!--begin::Wrapper-->
        <div class="d-flex flex-column w-100">
            <!--begin::Content-->
            <span class="text-center fw-bold">@languageContainer.Keys[errorMessage]</span>
            <!--end::Content-->
        </div>
        <!--end::Wrapper-->
    </div>
    <!--end::Alert-->
</EditForm>
<!--end::Form-->
